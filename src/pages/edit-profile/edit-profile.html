<!--
  Generated template for the EditProfile page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Edit Profile</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding id="content">


  <!-- Edit Page Nav. -->

        <ion-segment [(ngModel)]="editProfile">
          <ion-segment-button value="persInfo">
            Personal Info
          </ion-segment-button>
          <ion-segment-button value="busInfo">
            Business Info
          </ion-segment-button>
          <ion-segment-button value="Other">
            Other
          </ion-segment-button>
        </ion-segment>


      <ion-list>

      <div [ngSwitch]="editProfile">

        <!--Personal Edit Page  -->
        <ion-list *ngSwitchCase="'persInfo'">
            <ion-item id=profile-img>
              <img id="user-img" src="https://firebasestorage.googleapis.com/v0/b/bvweb-5da6d.appspot.com/o/BlackValley-2.jpg?alt=media&token=425be727-9c17-45d2-a824-8a9038a9dcf7" alt="avatar">
            </ion-item>


            <ion-card>
              <form [formGroup]="editProfileForm" (submit)="updateInfo()" novalidate>
                <ion-item>
                  <ion-label stacked>College</ion-label>
                  <ion-input #college formControlName="college" type="text"
                    [class.invalid]="!editProfileForm.controls.college.valid && editProfileForm.controls.college.dirty">
                    </ion-input>
                </ion-item>
                <ion-item class="error-message"
                  *ngIf="!editProfileForm.controls.college.valid  && editProfileForm.controls.college.dirty">
                  <p> College must be at least two characters.</p>
                </ion-item>

                <ion-item>
                  <ion-label stacked>Location</ion-label>
                  <ion-input #location formControlName="location" type="text" placeholder="Location"
                    [class.invalid]="!editProfileForm.controls.location.valid && editProfileForm.controls.location.dirty">
                    </ion-input>
                </ion-item>
                <ion-item class="error-message"
                  *ngIf="!editProfileForm.controls.location.valid  && editProfileForm.controls.location.dirty">
                  <p>Location must be at least two characters.</p>
                </ion-item>

                <ion-item>
                  <ion-label stacked>Employment</ion-label>
                  <ion-input #employment formControlName="employment" type="text"
                    [class.invalid]="!editProfileForm.controls.employment.valid && editProfileForm.controls.employment.dirty">
                    </ion-input>
                </ion-item>
                <ion-item class="error-message"
                  *ngIf="!editProfileForm.controls.employment.valid  && editProfileForm.controls.employment.dirty">
                  <p>Employment name must be at least two characters.</p>
                </ion-item>

                <ion-item>
                  <ion-label class="dob-label">Date of Birth</ion-label>
                  <ion-datetime displayFormat="MMM D, YYYY"
                    formControlName="birthDate" ></ion-datetime>
                </ion-item>


                <button ion-button icon-right type="submit" id="connect-btn" >
                    Submit
                </button>




              </form>
            </ion-card>

            <ion-item (click)="updateName()">
              <ion-grid>
                <ion-row>
                  <ion-col width-50>
                    Name
                  </ion-col>
                  <ion-col *ngIf="userProfile?.firstName || userProfile?.lastName">
                    {{userProfile?.firstName}} {{userProfile?.lastName}}
                  </ion-col>
                  <ion-col class="placeholder-profile" *ngIf="!userProfile?.firstName">
                    <span>
                      Tap here to edit.
                    </span>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-item>

            <ion-item>
              <ion-label class="dob-label">Date of Birth</ion-label>
              <ion-datetime displayFormat="MMM D, YYYY" pickerFormat="D MMM YYYY"
                [(ngModel)]="birthDate" (ionChange)="updateDOB(birthDate)"></ion-datetime>
            </ion-item>



            <ion-item (click)="updateEmail()">
              <ion-grid>
                <ion-row>
                  <ion-col width-50>
                    Email
                  </ion-col>
                  <ion-col width-50 *ngIf="userProfile?.email">
                    {{userProfile?.email}}
                  </ion-col>
                  <ion-col class="placeholder-profile" *ngIf="!userProfile?.email">
                    <span>
                      Tap here to edit.
                    </span>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-item>


            <ion-item (click)="updatePassword()">
              <ion-grid>
                <ion-row>
                  <ion-col width-50>
                    Password
                  </ion-col>
                  <ion-col class="placeholder-profile">
                    <span>
                      Tap here to edit.
                    </span>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-item>



                    <button ion-button full (click)="logOut()">
                      Logout page
                    </button>



        </ion-list>

        <!--Business Edit Page  -->
        <ion-list *ngSwitchCase="'busInfo'">
        </ion-list>

        <!--Other Edit Page  -->
          <ion-list *ngSwitchCase="'Other'">
          </ion-list>



        </div>
    </ion-list>
</ion-content>
